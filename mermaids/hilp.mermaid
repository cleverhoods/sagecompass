graph TD

A(User Input) --> B(Supervisor)
B --> C(Gating Guardrails)
C --> D(Supervisor)
D --> E(Retrieve Context)
E --> F(Supervisor)
F --> G(Ambiguity Detection)

G -->|If Ambiguous| H(Ambiguity Resolver Loop)
G -->|If Clear| I(Supervisor)

H -->|Clarified| C
I --> J(Problem Framing)
J --> K(Supervisor)
K --> L(Ambiguity Detection)

L -->|If Ambiguous| H
L -->|If Clear| M(Business Goals)

# LangGraph System Map (langgraph)
# Purpose: Complete path index to prevent searches. Read this first on every session.

working_dir: langgraph

## Navigation Maps (detailed component/platform/contract info)
navigation_maps:
  - .shared/maps/components.yml    # Component purposes, contracts, rules
  - .shared/maps/platform.yml      # Platform layer architecture
  - .shared/maps/contracts.yml     # Contract definitions and paths
  - .shared/maps/testing.yml       # Test organization index

## Instruction Files (CLAUDE.md locations)
instructions:
  root: CLAUDE.md                  # Backend operating contract
  components:
    - app/agents/CLAUDE.md
    - app/graphs/CLAUDE.md
    - app/middlewares/CLAUDE.md
    - app/nodes/CLAUDE.md
    - app/platform/CLAUDE.md
    - app/schemas/CLAUDE.md
    - app/state/CLAUDE.md
    - app/tools/CLAUDE.md
  tests: tests/CLAUDE.md           # Test organization rules

## Application Structure (hierarchical)
backend_tree:
  shared:
    - .shared/maps/                # Navigation maps (components, platform, contracts, testing)
    - .shared/rules/               # Component rule snippets (see maps for index)
    - .shared/efficient-commands.md
  orchestration:                   # LangGraph orchestration layer
    - app/agents/
    - app/nodes/
    - app/graphs/
    - app/graphs/subgraphs/
    - app/middlewares/
    - app/tools/
    - app/schemas/
    - app/state/
  platform:                        # Platform layer (hexagonal architecture)
    - app/platform/core/           # Pure core (no dependencies)
    - app/platform/core/contract/
    - app/platform/core/dto/
    - app/platform/core/policy/
    - app/platform/adapters/
    - app/platform/runtime/
    - app/platform/config/
    - app/platform/observability/
    - app/platform/utils/
  tests:                           # Test structure (see maps/testing.yml for details)
    - tests/unit/architecture/     # Structural validation
    - tests/unit/platform/         # Platform layer tests
    - tests/unit/orchestration/    # Orchestration tests
    - tests/integration/
    - tests/e2e/

## High-Risk Areas (changes require full QA)
high_risk_areas:
  - app/platform/core/contract/    # Contract changes affect all consumers
  - app/platform/core/policy/      # Policy changes affect guardrails/middleware
  - app/platform/core/dto/         # DTO changes affect boundary translation
  - app/platform/config/           # Config changes affect env loading across the entire app
  - app/state/                     # State changes require careful validation across all nodes
  - app/graphs/                    # Graph changes affect routing and control flow
  - app/platform/adapters/         # Adapter changes affect boundary translation
